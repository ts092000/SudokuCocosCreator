{"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/M%C3%A1y%20t%C3%ADnh/SudokuMain2/SudokuMain2/assets/Script/MenuController.ts"],"names":["_decorator","Component","Node","Button","director","find","AudioSource","MenuModel","MenuView","StoredPersistNode","ccclass","property","MenuController","type","gameClient","start","parameters","console","log","gameClientParams","addComponent","addPersistRootNode","audioNode","audioParam","View","AudioBg","getComponent","node","play","AudioMute","active","AudioUnmute","onLoad","PlayGameBtn","on","EventType","CLICK","playGameBtn","update","deltaTime","btnMute","btnUnmute","loadScene","volume"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node ,Button, director, find, AudioSource} from 'cc';\nimport { MenuModel } from './MenuModel';\nimport { MenuView } from './MenuView';\nimport { StoredPersistNode } from './StoredPersistNode';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MenuController')\nexport class MenuController extends Component {\n    @property({type:MenuModel})\n    Model: MenuModel\n\n    @property({type:MenuView})\n    View: MenuView\n\n    public gameClient;\n\n    public async start() : Promise<void>{\n        let parameters = find(\"GameClient\");\n        console.log(this.gameClient);\n        \n        if (parameters === null) {\n            let parameters = new Node(\"GameClient\");\n            let gameClientParams = parameters.addComponent(StoredPersistNode);\n            gameClientParams.gameClient = this.gameClient;\n            director.addPersistRootNode(parameters);\n        }\n\n        let audioNode = find(\"BackgroundAudio\");\n        console.log(audioNode);\n        // let audioNode = find(\"BackgroundAudio\");\n        // console.log(audioNode);\n        let audioParam = this.View.AudioBg.getComponent(AudioSource);\n        console.log(audioParam);\n        audioParam = this.View.AudioBg;\n        director.addPersistRootNode(audioParam.node);\n        console.log(audioParam.node);\n\n        console.log('gameClient: ', this.gameClient);\n        console.log(parameters);\n\n        // console.log(audioParam);\n        this.View.AudioBg.play();\n        this.View.AudioMute.node.active = false;\n        this.View.AudioUnmute.node.active = true;\n    }\n\n    public onLoad() {\n        this.View.PlayGameBtn.node.on(Button.EventType.CLICK, this.playGameBtn, this);\n    }\n\n    public update(deltaTime: number) {\n        this.View.AudioMute.node.on(Button.EventType.CLICK, this.btnMute, this);\n        this.View.AudioUnmute.node.on(Button.EventType.CLICK, this.btnUnmute, this);\n    }\n\n    private playGameBtn(PlayGameBtn: Button) {\n        director.loadScene(\"MainGame\");\n    }\n\n    private btnMute(AudioMute: Button) {\n        this.View.AudioMute.node.active = false;\n        this.View.AudioUnmute.node.active = true;\n        this.View.AudioBg.volume = 0.7;\n    }\n\n    private btnUnmute(AudioMute: Button) {\n        this.View.AudioMute.node.active = true;\n        this.View.AudioUnmute.node.active = false;\n        this.View.AudioBg.volume = 0;\n    }\n}\n\n"]}